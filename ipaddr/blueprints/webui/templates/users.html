{% extends "base.html" %}
{% block title %}Users{% endblock %}
{% block content%}
<h1>Add users</h1>
<form method="POST">
    <div class="form-group row">
        <label for="user" class="col-sm-2 col-form-label">Username</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="username" name="username" placeholder="Enter username"
            value="{% if edit_user|length != 0 %}ok{% endif %}" />
        </div>    
    </div>
    <div class="form-group row">
        <label for="password" class="col-sm-2 col-form-label">Password</label>
        <div class="col-sm-10">
            <input type="password" class="form-control" id="password1" name="password1" placeholder="Enter password" />
        </div>
    </div>
    <div class="form-group row">
        <label for="password" class="col-sm-2 col-form-label">Repeat password</label>
        <div class="col-sm-10">
            <input type="password" class="form-control" id="password2" name="password2" placeholder="Enter password" />
        </div>    
    </div>
    <div class="form-group row">
        <label for="name" class="col-sm-2 col-form-label">Name</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="name" name="name" placeholder="Enter name" />
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <button type="submit" class="btn btn-primary">Add user</button>
        </div>    
    </div>
</form>

<h3>User list</h3>
<table class="table table-hover">
    <thead class="thead-light">
        <tr>
            <th scope="col">Username</th>
            <th scope="col">Name</th>
            <th scope="col">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for user in users %}
        <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.name }}</td>
            <td>
                <a class="btn btn-danger" href="#" onClick="deleteUser('{{ user.username }}')">
                    <i class="bi bi-trash"></i>Delete</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}